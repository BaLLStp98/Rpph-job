# หน้า Profile - ระบบจัดการข้อมูลสมัครงาน

## ภาพรวม

หน้า Profile เป็นส่วนที่แสดงข้อมูลสมัครงานทั้งหมดที่ผู้ใช้ได้กรอกไว้ และสามารถแก้ไขข้อมูลได้ โดยมีฟีเจอร์หลักดังนี้:

1. **ค้นหาข้อมูล** - ค้นหาด้วยเลขบัตรประชาชนหรืออีเมล
2. **แสดงข้อมูล** - แสดงข้อมูลทั้งหมดในรูปแบบที่อ่านง่าย
3. **แก้ไขข้อมูล** - สามารถแก้ไขข้อมูลได้ทุกส่วน
4. **บันทึกการเปลี่ยนแปลง** - บันทึกการแก้ไขลงฐานข้อมูล

## การใช้งาน

### 1. การเข้าถึงหน้า Profile

- เข้าสู่ระบบผ่าน `/auth/signin`
- คลิกที่รูปโปรไฟล์ใน Navbar
- เลือก "โปรไฟล์" จากเมนู

### 2. การค้นหาข้อมูล

1. เลือกประเภทการค้นหา:
   - เลขบัตรประชาชน
   - อีเมล
2. กรอกข้อมูลที่ต้องการค้นหา
3. คลิกปุ่ม "ค้นหา"

### 3. การดูข้อมูล

ข้อมูลจะแสดงในรูปแบบการ์ดแยกตามหมวดหมู่:

- **ข้อมูลส่วนตัว** - ข้อมูลพื้นฐานของผู้สมัคร
- **ประวัติการศึกษา** - ข้อมูลการศึกษาและสถาบัน
- **ประวัติการทำงาน** - ประสบการณ์การทำงาน
- **ข้อมูลเพิ่มเติม** - ทักษะ ภาษา ใบรับรอง
- **ข้อมูลการสมัคร** - ตำแหน่งที่สมัคร เงินเดือนที่คาดหวัง

### 4. การแก้ไขข้อมูล

1. คลิกปุ่ม "แก้ไขข้อมูล"
2. ข้อมูลจะเปลี่ยนเป็นฟอร์มที่สามารถแก้ไขได้
3. แก้ไขข้อมูลตามต้องการ
4. คลิกปุ่ม "บันทึก" เพื่อบันทึกการเปลี่ยนแปลง
5. หรือคลิกปุ่ม "ยกเลิก" เพื่อยกเลิกการแก้ไข

## ฟีเจอร์พิเศษ

### การจัดการข้อมูลการศึกษา
- เพิ่มข้อมูลการศึกษาใหม่
- ลบข้อมูลการศึกษา (ต้องมีอย่างน้อย 1 รายการ)
- แก้ไขข้อมูลการศึกษา

### การจัดการข้อมูลการทำงาน
- เพิ่มประสบการณ์การทำงานใหม่
- ลบประสบการณ์การทำงาน (ต้องมีอย่างน้อย 1 รายการ)
- แก้ไขข้อมูลการทำงาน

### การแสดงข้อมูลเวลา
- แสดงวันที่ในรูปแบบไทย
- แสดงวันที่สร้างและอัปเดตล่าสุด

## API Endpoints

### GET /api/profile
ดึงข้อมูล Profile ตาม idNumber หรือ email

**Parameters:**
- `idNumber` (optional) - เลขบัตรประชาชน
- `email` (optional) - อีเมล

**Response:**
```json
{
  "success": true,
  "data": {
    "personalInfo": { ... },
    "education": [ ... ],
    "workExperience": [ ... ],
    "additionalInfo": { ... },
    "jobInfo": { ... }
  }
}
```

### PUT /api/profile/update
อัปเดตข้อมูล Profile

**Request Body:**
```json
{
  "personalInfoId": 1,
  "personalInfo": { ... },
  "education": [ ... ],
  "workExperience": [ ... ],
  "additionalInfo": { ... },
  "jobInfo": { ... }
}
```

**Response:**
```json
{
  "success": true,
  "message": "อัปเดตข้อมูลเรียบร้อยแล้ว"
}
```

## โครงสร้างฐานข้อมูล

ข้อมูล Profile ใช้ตารางเดียวกับ application-form:

- `application_personal_info` - ข้อมูลส่วนตัว
- `application_education` - ข้อมูลการศึกษา
- `application_work_experience` - ข้อมูลการทำงาน
- `application_additional_info` - ข้อมูลเพิ่มเติม
- `application_job_info` - ข้อมูลการสมัคร

## การจัดการข้อผิดพลาด

- แสดงข้อความแจ้งเตือนเมื่อไม่พบข้อมูล
- แสดงข้อความแจ้งเตือนเมื่อเกิดข้อผิดพลาดในการบันทึก
- แสดงข้อความแจ้งเตือนเมื่อเกิดข้อผิดพลาดในการดึงข้อมูล

## การออกแบบ UI

- ใช้ HeroUI components สำหรับ UI ที่สวยงาม
- ใช้ gradient backgrounds และ shadows
- Responsive design รองรับทุกขนาดหน้าจอ
- ใช้สีที่แตกต่างกันสำหรับแต่ละหมวดหมู่ข้อมูล

## การรักษาความปลอดภัย

- ตรวจสอบข้อมูลก่อนบันทึก
- ใช้ prepared statements เพื่อป้องกัน SQL injection
- ตรวจสอบสิทธิ์การเข้าถึงข้อมูล

## การพัฒนาต่อ

ฟีเจอร์ที่สามารถเพิ่มเติมได้:

1. **การอัปโหลดรูปภาพ** - อัปโหลดรูปถ่ายและเอกสาร
2. **การส่งอีเมล** - ส่งอีเมลยืนยันการแก้ไข
3. **การประวัติการแก้ไข** - บันทึกประวัติการแก้ไข
4. **การแจ้งเตือน** - แจ้งเตือนเมื่อมีการแก้ไขข้อมูล
5. **การพิมพ์ข้อมูล** - พิมพ์ข้อมูลเป็น PDF 